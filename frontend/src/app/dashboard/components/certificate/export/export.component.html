<div class="style-loading" *ngIf="loadingState">
    <nz-spin nzSimple [nzSize]="'large'"></nz-spin>
  </div>
<nz-modal  [nzWidth]="widthModal" [(nzVisible)]="checkVisibleExport" nzClassName="modal-create-certificate"  nzTitle="Xuáº¥t Certificate" nzWidth="60%" (nzAfterOpen)="loadingOk()" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()">
    <ng-container *nzModalContent>
        <nz-table
      #rowSelectionTable
      nzShowPagination
      nzShowSizeChanger
      [nzData]="listCertificate"
      (nzCurrentPageDataChange)="onCurrentPageDataChange($event)"
    >
      <thead>
        <tr>
          <th
            [nzChecked]="checked"
            [nzIndeterminate]="indeterminate"
            nzLabel="Select all"
            (nzCheckedChange)="onAllChecked($event)"
          ></th>
          <th>Certificate Code</th>
          <th>Name</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of rowSelectionTable.data">
          <td
            [nzChecked]="setOfCheckedId.has(data.id)"
            (nzCheckedChange)="onItemChecked(data.id, $event)"
          ></td>
          <td>{{ data.certificateCode }}</td>
          <td>{{ data.name }}</td>
          <td class="text-center">
            <nz-tag [nzColor]="'red'" *ngIf="data.status == 0">Invalid</nz-tag>
            <nz-tag [nzColor]="'green'" *ngIf="data.status == 1">Valid</nz-tag>
          </td>
        </tr>
      </tbody>
    </nz-table>
        
        
    </ng-container>
    <ng-container *nzModalFooter>
        <button nz-button nzType="dashed" (click)="handleCancel()">Cancel</button>
        <button nz-button nzType="default" (click)="exportAllCertificate()">Export All</button>
        <button nz-button nzType="primary" (click)="exportCertificate()">Export</button>
    </ng-container>
</nz-modal>