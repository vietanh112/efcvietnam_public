"use strict";(self.webpackChunkdashboard_hosting=self.webpackChunkdashboard_hosting||[]).push([[811],{2811:(H,A,c)=>{c.r(A),c.d(A,{PublicModule:()=>$});var l=c(9808),f=c(2382),u=c(7152),t=c(5e3),x=c(4004),y=c(2340);class O{constructor(a){var e,n,o,s,r,h,d,p,m,C,_,v,T,Z,b,z;this.id="",this.informationCode="",this.certificateCode="",this.licenseCode="",this.name="",this.address="",this.website="",this.status=0,this.fstIssueDate="",this.lstIssueDate="",this.expiryDate="",this.standard="",this.scope="",this.quantity="",this.hectares="",this.show=0,this.passwordQrcode="",this.createdAt="",this.updatedAt="",this.id=null!==(e=String(a.id))&&void 0!==e?e:"",this.informationCode=null!==(n=a.informationCode)&&void 0!==n?n:"",this.certificateCode=null!==(o=a.certificateCode)&&void 0!==o?o:"",this.licenseCode=null!==(s=a.licenseCode)&&void 0!==s?s:"",this.name=null!==(r=a.name)&&void 0!==r?r:"",this.address=null!==(h=a.address)&&void 0!==h?h:"",this.website=null!==(d=a.website)&&void 0!==d?d:"",this.status=null!==(p=a.status)&&void 0!==p?p:0,this.fstIssueDate=null!==(m=a.fstIssueDate)&&void 0!==m?m:"",this.lstIssueDate=null!==(C=a.lstIssueDate)&&void 0!==C?C:"",this.expiryDate=null!==(_=a.expiryDate)&&void 0!==_?_:"",this.standard=a.standard||"",this.scope=a.scope||"",this.quantity=null!==(v=a.quantity)&&void 0!==v?v:"",this.hectares=null!==(T=a.hectares)&&void 0!==T?T:"",this.show=null!==(Z=a.show)&&void 0!==Z?Z:0,this.createdAt=null!==(b=a.createdAt)&&void 0!==b?b:"",this.updatedAt=null!==(z=a.updatedAt)&&void 0!==z?z:""}}var S=c(520),w=c(9286);let P=(()=>{class i{constructor(e,n){this.http=e,this.apiService=n,this.apiServerPaths=y.N.apiServer.paths}getCertificateCode(e){let o=this.apiServerPaths.public.getCertificateCode;return o=o.replace("{CERTIFICATE_CODE}",String(e)),this.apiService.get(o,{headers:{"Content-Type":"application/json; charset=utf-8"}},(0,x.U)(s=>(200==s.code&&1==s.status&&(s.data=new O(s.data)),s)))}searchCertificate(e,n){let s=this.apiServerPaths.public.searchCertificateCode;return s=s.replace("{CERTIFICATE_CODE}",String(e)),s=s.replace("{PASSWORD_QRCODE}",String(n)),this.apiService.get(s,{headers:{"Content-Type":"application/json; charset=utf-8"}},(0,x.U)(r=>(200==r.code&&1==r.status&&(r.data=new O(r.data)),r)))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(S.eN),t.LFG(w.s))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var g=c(3640),q=c(9590),D=c(2683),I=c(1047),U=c(6042),Q=c(2643),N=c(685);function E(i,a){1&i&&(t.TgZ(0,"div",11),t._UZ(1,"nz-spin",12),t.qZA()),2&i&&(t.xp6(1),t.Q6J("nzSize","large"))}function J(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().showModal()}),t._uU(1,"T\xecm ki\u1ebfm"),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("nzSize",e.sizeSearch)}}function F(i,a){1&i&&(t.TgZ(0,"div",17),t._uU(1,"Invalid"),t.qZA())}function V(i,a){1&i&&(t.TgZ(0,"div",17),t._uU(1,"Valid"),t.qZA())}function Y(i,a){if(1&i&&(t.TgZ(0,"div",14)(1,"h1"),t._uU(2,"CERTIFICATE"),t.qZA(),t.TgZ(3,"div",15)(4,"h3"),t._uU(5,"MAIN INFORMATION"),t.qZA(),t.TgZ(6,"div")(7,"label",16),t._uU(8,"Information from:"),t.qZA(),t.TgZ(9,"div",17),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"label",16),t._uU(13,"Certificate Code:"),t.qZA(),t.TgZ(14,"div",17),t._uU(15),t.qZA()(),t.TgZ(16,"div")(17,"label",16),t._uU(18,"License Code:"),t.qZA(),t.TgZ(19,"div",17),t._uU(20),t.qZA()()(),t.TgZ(21,"div",15)(22,"h3"),t._uU(23,"MAIN ADDRESS"),t.qZA(),t.TgZ(24,"div")(25,"label",16),t._uU(26,"Name:"),t.qZA(),t.TgZ(27,"div",17),t._uU(28),t.qZA()(),t.TgZ(29,"div")(30,"label",16),t._uU(31,"Address:"),t.qZA(),t.TgZ(32,"div",17),t._uU(33),t.qZA()(),t.TgZ(34,"div")(35,"label",16),t._uU(36,"Website:"),t.qZA(),t.TgZ(37,"div",17),t._uU(38),t.qZA()()(),t.TgZ(39,"div",15)(40,"h3"),t._uU(41,"CERTIFICATE DATA"),t.qZA(),t.TgZ(42,"div")(43,"label",16),t._uU(44,"Status:"),t.qZA(),t.YNc(45,F,2,0,"div",18),t.YNc(46,V,2,0,"div",18),t.qZA(),t.TgZ(47,"div")(48,"label",16),t._uU(49,"First Issue Date:"),t.qZA(),t.TgZ(50,"div",17),t._uU(51),t.ALo(52,"date"),t.qZA()(),t.TgZ(53,"div")(54,"label",16),t._uU(55,"Last Issue Date:"),t.qZA(),t.TgZ(56,"div",17),t._uU(57),t.ALo(58,"date"),t.qZA()(),t.TgZ(59,"div")(60,"label",16),t._uU(61,"Expiry Date:"),t.qZA(),t.TgZ(62,"div",17),t._uU(63),t.ALo(64,"date"),t.qZA()(),t.TgZ(65,"div")(66,"label",16),t._uU(67,"Standard:"),t.qZA(),t.TgZ(68,"div",17),t._uU(69),t.qZA()(),t.TgZ(70,"div")(71,"label",16),t._uU(72,"Scope:"),t.qZA(),t.TgZ(73,"div",17),t._uU(74),t.qZA()(),t.TgZ(75,"div")(76,"label",16),t._uU(77,"Quantity:"),t.qZA(),t.TgZ(78,"div",17),t._uU(79),t.qZA()(),t.TgZ(80,"div")(81,"label",16),t._uU(82,"Hectares:"),t.qZA(),t.TgZ(83,"div",17),t._uU(84),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(10),t.Oqu(e.certificate.informationCode),t.xp6(5),t.Oqu(e.certificate.certificateCode),t.xp6(5),t.Oqu(e.certificate.licenseCode),t.xp6(8),t.Oqu(e.certificate.name),t.xp6(5),t.Oqu(e.certificate.address),t.xp6(5),t.Oqu(e.certificate.website),t.xp6(7),t.Q6J("ngIf",0==e.certificate.status),t.xp6(1),t.Q6J("ngIf",1==e.certificate.status),t.xp6(5),t.Oqu(t.xi3(52,15,e.certificate.fstIssueDate,"dd-MM-yyyy")),t.xp6(6),t.Oqu(t.xi3(58,18,e.certificate.lstIssueDate,"dd-MM-yyyy")),t.xp6(6),t.Oqu(t.xi3(64,21,e.certificate.expiryDate,"dd-MM-yyyy")),t.xp6(6),t.Oqu(e.certificate.standard),t.xp6(5),t.Oqu(e.certificate.scope),t.xp6(5),t.Oqu(e.certificate.quantity),t.xp6(5),t.Oqu(e.certificate.hectares)}}function R(i,a){1&i&&t._UZ(0,"nz-empty")}function k(i,a){1&i&&(t.TgZ(0,"p",22),t._uU(1,"B\u1ea1n ph\u1ea3i nh\u1eadp Password Qrcode"),t.qZA())}function B(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",3)(2,"nz-input-group",19)(3,"input",20),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw().passwordQrcode=o}),t.qZA()(),t.YNc(4,k,2,0,"p",21),t.qZA(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("nzSize",e.sizeSearch),t.xp6(1),t.Q6J("ngModel",e.passwordQrcode),t.xp6(1),t.Q6J("ngIf",e.showValid1)}}let M=(()=>{class i{constructor(e,n,o,s,r,h){this.publicService=e,this.modal=n,this.activatedRoute=o,this.location=s,this.router=r,this.route=h,this.certificateCode=null,this.loadingState=!1,this.isVisible=!1,this.passwordQrcode="",this.showValid1=!1,this.certificate={id:"",informationCode:"",certificateCode:"",licenseCode:"",name:"",address:"",website:"",status:null,fstIssueDate:"",lstIssueDate:"",expiryDate:"",standard:"",scope:"",quantity:"",hectares:"",createdAt:"",updatedAt:""},this.statusSearch=!1,this.routeParams={keyword:null},this.sizeSearch="large",this.activatedRoute.queryParams.subscribe(d=>{this.routeParams=d,this.certificateCode="",this.passwordQrcode="",void 0!==d.id&&(this.certificateCode=decodeURIComponent(d.id)),void 0!==d.passwordQrcode&&(this.passwordQrcode=decodeURIComponent(d.passwordQrcode))})}ngOnInit(){this.responsive(window.innerWidth)}responsive(e){this.sizeSearch=e<767?"default":"large"}ngAfterViewInit(){setTimeout(()=>{null==this.certificateCode||""==this.certificateCode||null==this.certificateCode||this.getCertificate()},0)}getCertificate(){!this.certificateCode||(this.loadingState=!0,this.publicService.getCertificateCode(this.certificateCode).subscribe(e=>{this.loadingState=!1;let n={id:"",message:"success",title:"T\xecm ki\u1ebfm Th\xe0nh c\xf4ng"};return 200==e.code&&1==e.status?(this.certificate.informationCode=e.data.informationCode,this.certificate.certificateCode=e.data.certificateCode,this.certificate.licenseCode=e.data.licenseCode,this.certificate.name=e.data.name,this.certificate.address=e.data.address,this.certificate.website=e.data.website,this.certificate.status=e.data.status,this.certificate.fstIssueDate=e.data.fstIssueDate,this.certificate.lstIssueDate=e.data.lstIssueDate,this.certificate.expiryDate=e.data.expiryDate,this.certificate.standard=e.data.standard,this.certificate.scope=e.data.scope,this.certificate.quantity=e.data.quantity,this.certificate.hectares=e.data.hectares,n.id=e.data.certificateCode):202==e.code&&0==e.status?(n.message="warning",n.title="Certificate Code kh\xf4ng t\u1ed3n t\u1ea1i",this.certificateNoData()):(n.message="error",n.title="T\xecm ki\u1ebfm Th\u1ea5t b\u1ea1i",this.certificateNoData()),this.location.replaceState(this.router.url.split("?")[0],`id=${this.certificateCode}`),this.notification(n)}))}searchCertificate(){!this.certificateCode||(this.loadingState=!0,this.publicService.searchCertificate(this.certificateCode,this.passwordQrcode).subscribe(e=>{this.loadingState=!1;let n={id:"",message:"success",title:"T\xecm ki\u1ebfm Th\xe0nh c\xf4ng"};return 200==e.code&&1==e.status?(this.certificate.informationCode=e.data.informationCode,this.certificate.certificateCode=e.data.certificateCode,this.certificate.licenseCode=e.data.licenseCode,this.certificate.name=e.data.name,this.certificate.address=e.data.address,this.certificate.website=e.data.website,this.certificate.status=e.data.status,this.certificate.fstIssueDate=e.data.fstIssueDate,this.certificate.lstIssueDate=e.data.lstIssueDate,this.certificate.expiryDate=e.data.expiryDate,this.certificate.standard=e.data.standard,this.certificate.scope=e.data.scope,this.certificate.quantity=e.data.quantity,this.certificate.hectares=e.data.hectares,n.id=e.data.certificateCode):201==e.code&&0==e.status?(n.message="warning",n.title="Password QrCode kh\xf4ng t\u1ed3n t\u1ea1i",this.certificateNoData()):202==e.code&&0==e.status?(n.message="warning",n.title="Certificate Code kh\xf4ng t\u1ed3n t\u1ea1i",this.certificateNoData()):(n.message="error",n.title="T\xecm ki\u1ebfm Th\u1ea5t b\u1ea1i",this.certificateNoData()),this.location.replaceState(this.router.url.split("?")[0],`id=${this.certificateCode}`),this.notification(n)}))}certificateNoData(){this.certificate.informationCode="",this.certificate.certificateCode="",this.certificate.licenseCode="",this.certificate.name="",this.certificate.address="",this.certificate.website="",this.certificate.status=null,this.certificate.fstIssueDate="",this.certificate.lstIssueDate="",this.certificate.expiryDate="",this.certificate.standard="",this.certificate.scope="",this.certificate.quantity="",this.certificate.hectares=""}notification(e){let n=e.message;this.modal[n]({nzWidth:350,nzOkText:null,nzTitle:`${e.title}`,nzContent:`${e.title} <b> ${e.id} </b>`,nzStyle:{position:"absolute",bottom:"0px",right:"20px",top:"auto"}}),setTimeout(()=>{this.modal.closeAll(),"success"==n&&(this.statusSearch=!0)},1500)}showModal(){let e={id:"",message:"success",title:"T\xecm ki\u1ebfm Th\xe0nh c\xf4ng"};if(null==this.certificateCode||""==this.certificateCode)return e.message="error",e.title="B\u1ea1n ph\u1ea3i nh\u1eadp Certificate No",this.notification(e);this.isVisible=!0}handleOk(){if(null==this.passwordQrcode||""==this.passwordQrcode)return this.showValid1=!0,void setTimeout(()=>{this.showValid1=!1},3e3);this.searchCertificate(),this.isVisible=!1}handleCancel(){this.passwordQrcode="",this.isVisible=!1}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(P),t.Y36(g.Sf),t.Y36(u.gz),t.Y36(l.Ye),t.Y36(u.F0),t.Y36(u.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-public-information"]],decls:12,vars:7,consts:[["class","style-loading",4,"ngIf"],[1,"infor-content"],[1,"search"],[1,"form-group"],["nzSearch","",3,"nzSize","nzAddOnAfter"],["type","text","nz-input","","placeholder","Certificate No",3,"ngModel","ngModelChange"],["suffixButton",""],["class","infor-cer",4,"ngIf"],[4,"ngIf"],["nzTitle","Nh\u1eadp Password Qrcode","footer","null",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],[1,"style-loading"],["nzSimple","",3,"nzSize"],["nz-button","","nzType","primary","nzSearch","",3,"nzSize","click"],[1,"infor-cer"],[1,"main-infor"],["for",""],[1,"text"],["class","text",4,"ngIf"],["nzSearch","",3,"nzSize"],["type","text","nz-input","","placeholder","Password Qrcode",3,"ngModel","ngModelChange"],["style","color: crimson;",4,"ngIf"],[2,"color","crimson"]],template:function(e,n){if(1&e&&(t.YNc(0,E,2,1,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"nz-input-group",4)(5,"input",5),t.NdJ("ngModelChange",function(s){return n.certificateCode=s}),t.qZA()(),t.YNc(6,J,2,1,"ng-template",null,6,t.W1O),t.qZA()(),t.YNc(8,Y,85,24,"div",7),t.YNc(9,R,1,0,"nz-empty",8),t.TgZ(10,"nz-modal",9),t.NdJ("nzVisibleChange",function(s){return n.isVisible=s})("nzOnCancel",function(){return n.handleCancel()})("nzOnOk",function(){return n.handleOk()}),t.YNc(11,B,5,3,"ng-container",10),t.qZA()()),2&e){const o=t.MAs(7);t.Q6J("ngIf",n.loadingState),t.xp6(4),t.Q6J("nzSize",n.sizeSearch)("nzAddOnAfter",o),t.xp6(1),t.Q6J("ngModel",n.certificateCode),t.xp6(3),t.Q6J("ngIf",n.statusSearch),t.xp6(1),t.Q6J("ngIf",!n.statusSearch),t.xp6(1),t.Q6J("nzVisible",n.isVisible)}},directives:[l.O5,q.W,D.w,I.gB,I.Zp,f.Fj,f.JJ,f.On,U.ix,Q.dQ,N.p9,g.du,g.Hf],pipes:[l.uU],styles:[".infor-content[_ngcontent-%COMP%]{max-width:90%;margin:-10% auto 0;background-color:#fff;padding:1.75rem 2.5rem}h1[_ngcontent-%COMP%]{font-size:2.25rem;color:#1e73be;margin:0 0 1rem}h3[_ngcontent-%COMP%]{font-size:1.25rem;color:#333;margin:0 0 .75rem}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700}.main-infor[_ngcontent-%COMP%]{margin-bottom:1.5rem}.main-infor[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;margin-bottom:.5rem}.main-infor[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:25%;text-align:right;font-weight:600}.main-infor[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:75%;padding-left:.75rem}.infor-content[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{margin-bottom:1.25rem;display:flex;justify-content:flex-end}.infor-content[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{max-width:350px;margin-bottom:0}@media screen and (max-width: 767px){.infor-content[_ngcontent-%COMP%]{max-width:100%;margin-top:0;background-color:#fff;padding:1.25rem 1.75rem}.infor-content[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{justify-content:flex-start}}@media screen and (max-width: 415px){.infor-content[_ngcontent-%COMP%]{padding:1.25rem}.infor-content[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{margin-bottom:2rem}.infor-content[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:100%;max-width:100%}.infor-content[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{font-size:2rem;margin:0 0 .75rem}h3[_ngcontent-%COMP%]{font-size:1.15rem;margin:0 0 .5rem}}"]}),i})();const j=[{path:"**",redirectTo:"information",component:M},{path:"information",component:M}];let L=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[l.ez,u.Bz.forChild(j)],u.Bz]}),i})();var W=c(7130);let $=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[],imports:[[W.h,l.ez,f.u5,f.UX,L]]}),i})()}}]);